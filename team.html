<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
      name="viewport"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="theme-color" content="#ffffff" />

    <!-- Favicons -->
    <link rel="apple-touch-icon" href="favicon.png" />
    <link rel="icon" href="favicon.png" />

    <!--     Fonts and icons     -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="assets/css/material-kit.css?v=2.0.2" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <!-- Documentation extras -->
    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="stylesheet" href="assets/css/team.css" />
    <link rel="stylesheet" href="assets/css/navbar.css" />

    <link
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      rel="stylesheet"
      integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/flickity@2.0/dist/flickity.min.css"
    />
    <script src="https://unpkg.com/flickity@2.0/dist/flickity.pkgd.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <title>Team | DSC HIT</title>

    <style>
      body {
        overflow-x: hidden;
      }

      #top-button {
        font-size: 20px;
        transition: 0.3s ease;
      }

      .grid-item {
        width: 25%;
      }

      .grid-item--width2 {
        width: 50%;
      }

      .img-fluid {
        border-radius: 5px 5px;
      }

      .team-member-details {
        cursor: pointer;
      }

      /* Preloader */

      #preloader {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: #fff;
        z-index: 99;
      }

      #status {
        width: 200px;
        height: 200px;
        position: absolute;
        left: 50%;
        top: 50%;
        background: #fff;
        background-repeat: no-repeat;
        background-position: center;
        margin: -100px 0 0 -100px;
      }
    </style>
    <!-- iframe removal -->
  </head>

  <body class="landing-page" name="top" id="top">
    <div id="preloader">
      <lottie-player
        id="status"
        src="https://assets6.lottiefiles.com/private_files/lf30_8a9atN.json"
        mode="bounce"
        background="#FFFFFF"
        speed="1"
        loop
        autoplay
      ></lottie-player>
    </div>
    <!-- ============================================ Navbar ============================================ -->
    <nav
      class="navbar navbar-color-on-scroll navbar-transparent fixed-top navbar-expand-lg"
      color-on-scroll="100"
      id="sectionsNav"
    >
      <!-- ===== Navbar through JS ===== -->
    </nav>
    <!-- ============================================ /.Navbar ============================================ -->

    <div class="main main-raised margin-t-0">
      <p>&nbsp;</p>
      <p>&nbsp;</p>

      <div class="container">
        <div class="container-page">
          <!-- ============================================ **** Banner **** ============================================ -->
          <div class="row mt-5">
            <!-- First Column -->
            <div class="col-lg-6">
              <p>&nbsp;</p>
              <h2 class="title">Team</h2>
              <h5 class="description">
                One log creates a small fire, adequate to warm you up, add just
                a few more pieces to blast an immense bonfire, large enough to
                warm up your entire circle; needless to say that individuality
                counts but teamwork dynamites. At
                <b class="blue_text">DSC HIT</b>
                celebrate teamwork and attribute the success of DSC to the
                wonderful individuals who put untiring efforts for it.
              </h5>
              <p>&nbsp;</p>
            </div>

            <!-- Second Column -->
            <div class="col-lg-6">
              <img class="img-fluid" src="assets/img/kit/team.png" />
            </div>
          </div>

          <div class="container no-padding container-sub-page">
            <!-- ============================================ Loading Animation ============================================ -->
            <div id="loading-animation">
              <div class="google-loader">
                <div class="dot blue"></div>
                <div class="dot red"></div>
                <div class="dot yellow"></div>
                <div class="dot green"></div>
              </div>
            </div>

            <div id="container-team" class="row">
              <!-- ===== Here the Team will Appear ===== -->
            </div>

            <div id="prev-team-wrapper">
              <div id="prev-member-heading">
                <a id="load-prev-team" onclick="loadPrevTeam()"
                  >View Core 2019 - 2020</a
                >
              </div>

              <div id="container-team-prev" class="row">
                <!-- ===== Here the Previous Team will Appear ===== -->
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ============================================ **** Footer **** ============================================ -->
      <div id="footer">
        <!-- ===== Footer Through JS ===== -->
      </div>
      <!-- ============================================ /. Footer ============================================ -->
    </div>

    <script src="assets/js/app.js"></script>
    <script src="assets/js/navbar.js"></script>
    <script src="assets/js/footer.js"></script>

    <!--   Core JS Files   -->
    <script src="assets/js/core/jquery.min.js"></script>
    <script src="assets/js/core/popper.min.js"></script>
    <script src="assets/js/style/bootstrap-material-design.js"></script>
    <!-- Material Kit Core initialisations of plugins and Bootstrap Material Design Library -->
    <script src="assets/js/style/material-kit.js?v=2.0.2"></script>
    <script src="assets/assets-custom/js/material-kit-demo.js"></script>
    <!-- <script src="assets/assets-custom/js/GridHorizontal.js"></script> -->
    <!-- <script src="https://unpkg.com/packery@2/dist/packery.pkgd.min.js"></script> -->
    <!-- <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script> -->
    <script src="assets/assets-custom/main.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    <!--<script src="assets/assets-custom/index.js"></script>-->

    <script>
      $(window).on("load", function () {
        // makes sure the whole site is loaded
        $("#status").fadeOut(); // will first fade out the loading animation
        $("#preloader").delay(450).fadeOut("slow"); // will fade out the white DIV that covers the website.
        $("body").delay(450).css({ overflow: "visible" });
      });

      $("document").ready(function () {
        /* ============================================ Getting Link Type ============================================ */
        function getLinks(links) {
          var result = "";

          links.forEach(function (link) {
            if (link.linkType === "Twitter") {
              result += `<li style="color:rgb(0,101,202);">
                          <a id="social_link1" href="${link.link}" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
                       </li>`;
            }

            if (link.linkType == "LinkedIn") {
              result += `<li style="color:rgb(0,101,202);">
                          <a id="social_link1" href="${link.link}" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
                       </li>`;
            }

            if (link.linkType == "Github") {
              result += `<li style="color:rgb(0,101,202);">
                          <a id="social_link1" href="${link.link}" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a>
                       </li>`;
            }

            if (link.linkType == "Facebook") {
              result += `<li style="color:rgb(0,101,202);">
                          <a id="social_link1" href="${link.link}" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
                       </li>`;
            }

            if (link.linkType == "Dribbble") {
              result += `<li style="color:rgb(0,101,202);">
                          <a id="social_link1" href="${link.link}" target="_blank"><i class="fa fa-dribbble" aria-hidden="true"></i></a>
                       </li>`;
            }
          });

          return result;
        }

        /* ============================================ Getting Template ============================================ */
        function getTemplate(member) {
          var template = `<div class="col-lg-4 container-team-member">
              <div class="clearfix float-my-children">
                <img src="${member.displayPicture}">

                <div class="team-member-details">
                  <span class="team-member-name blue_text" style="font-weight:500;" onclick="myfun('${
                    member.id
                  }')">
                    <b>${member.name}</b>
                  </span><br>
                  <span style="font-weight:300;">${member.description}</span>
                  <span>
                    <ul>${getLinks(member.links)}</ul>
                  </span>
                </div>

              </div>
           </div>`;

          return template;
        }

        var html_curr = "";
        var html_prev = "";

        /* ============================================ fetching Data by API ============================================ */
        var settings = {
          url: "https://dschit.herokuapp.com/team",
          method: "GET",
          timeout: 0,
        };

        $.ajax(settings).done(function (members) {
          members.forEach(function (member) {
            if (member.year === "2020 - 2021") {
              html_curr += getTemplate(member);
            } else {
              html_prev += getTemplate(member);
            }
          });

          /* ============================================ Stopping Animation and Placing Data ============================================ */
          document.getElementById("loading-animation").style.display = "none";
          $("#container-team").append(html_curr);
          $("#container-team-prev").append(html_prev);
        });
      });

      /* ============================================ Function for Loading Previous Team ============================================ */
      function loadPrevTeam() {
        document.getElementById("container-team-prev").style.display = "flex";
        document.getElementById("prev-member-heading").style.borderRadius =
          "0 0 10px 60px";
        document.getElementById("prev-member-heading").style.marginRight = "0";
        document.getElementById("load-prev-team").innerHTML =
          "Core 2019 - 2020";
      }

      /* ============================================ Funtion for Moving to Particular Member Page ============================================ */
      function myfun(targetid) {
        var html = "";
        var settings = {
          url: "https://dschit.herokuapp.com/team",
          method: "GET",
          timeout: 0,
        };
        $.ajax(settings).done(function (members) {
          members.forEach(function (member) {
            if (member.id == targetid)
              window.location = "member.html?id=" + member.id;
          });
        });
      }
    </script>
  </body>
</html>
