<!DOCTYPE html>

<head>
    <title>Team Detail</title>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="theme-color" content="#ffffff" />

    <!-- Favicons -->
    <link rel="apple-touch-icon" href="favicon.png">
    <link rel="icon" href="favicon.png">

    <!--     Fonts and icons     -->
    <link rel="stylesheet" type="text/css"
        href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />
    <link rel="stylesheet" href="assets/css/material-kit.css?v=2.0.2">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Documentation extras -->
    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="stylesheet" href="assets/css/team.css" />
    <link rel="stylesheet" href="assets/css/navbar.css">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
        integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/flickity@2.0/dist/flickity.min.css">
    <script src="https://unpkg.com/flickity@2.0/dist/flickity.pkgd.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <style>
        body {
            overflow-x: hidden;
        }

        #top-button {
            font-size: 20px;
            transition: 0.3s ease;
        }

        .tab {
            margin-left: 40px;
        }

        /*
            .grid-item { width: 25%; }
            .grid-item--width2 { width: 50%; }*/

        .img-fluid {
            border-radius: 10px;
        }

        .text-status {
            text-align: center;
            width: 100%;
            margin: 15px auto 5px auto;
        }

        .btn-holder {
            width: 100%;
            margin: 15px auto;
            text-align: center;
        }

        .btn-holder .btn {
            width: 96%;
            margin-left: offset;
        }
    </style>
</head>

<body class="landing-page" name="top" id="top">
    <!-- Navbar -->
    <nav class="navbar navbar-color-on-scroll navbar-transparent fixed-top  navbar-expand-lg " color-on-scroll="100"
        id="sectionsNav">
        <!-- ===== Navbar through JS ===== -->
    </nav>
    <!-- /.Navbar -->
    <div class="main main-raised margin-t-0">
        <div class="container">
            <div class="container no-padding container-sub-page">
                <div id="container-team" class="row">
                    <div id="detail">

                    </div>
                </div>
            </div>
        </div>


        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <!-- **** Footer **** -->
        <div id="footer">
            <!-- ===== Footer Through JS ===== -->
        </div>
        <!-- /. Footer -->
    </div>


    <script src="assets/js/app.js"></script>
    <script src="assets/js/navbar.js"></script>
    <script src="assets/js/footer.js"></script>

    <!--   Core JS Files   -->
    <script src="assets/js/core/jquery.min.js"></script>
    <script src="assets/js/core/popper.min.js"></script>
    <script src="assets/js/style/bootstrap-material-design.js"></script>
    <!-- Material Kit Core initialisations of plugins and Bootstrap Material Design Library -->
    <script src="assets/js/style/material-kit.js?v=2.0.2"></script>
    <script src="assets/assets-custom/js/material-kit-demo.js"></script>
    <!-- <script src="assets/assets-custom/js/GridHorizontal.js"></script> -->
    <!-- <script src="https://unpkg.com/packery@2/dist/packery.pkgd.min.js"></script> -->
    <!-- <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script> -->
    <script src="assets/assets-custom/main.js"></script>

    <!--<script src="assets/assets-custom/index.js"></script>-->


    <script>

        $('document').ready(function () {

            function getLinks(links) {

                var result = '';

                links.forEach(function (link) {

                    if (link.linkType === 'Twitter') {
                        result += `<li>
                                    <a class="btn btn-primary btn-fab btn-round" id="social_button1" href="${link.link}" target="_blank"><i style="color: rgb(0,101,202)!important;" class="fa fa-twitter" aria-hidden="true"></i></a>
                                </li>`;
                    }

                    if (link.linkType == 'LinkedIn') {
                        result += `<li>
                                    <a class="btn btn-primary btn-fab btn-round" id="social_button1" href="${link.link}" target="_blank"><i style="color: rgb(0,101,202)!important;" class="fa fa-linkedin" aria-hidden="true"></i></a>
                                </li>`;
                    }

                    if (link.linkType == 'Github') {
                        result += `<li>
                                    <a class="btn btn-primary btn-fab btn-round" id="social_button1" href="${link.link}" target="_blank"><i style="color: rgb(0,101,202)!important;" class="fa fa-link" aria-hidden="true"></i></a>
                                </li>`;
                    }

                    if (link.linkType == 'Facebook') {
                        result += `<li>
                                    <a class="btn btn-primary btn-fab btn-round" id="social_button1" href="${link.link}" target="_blank"><i style="color: rgb(0,101,202)!important;" class="fa fa-facebook" aria-hidden="true"></i></a>
                                </li>`;
                    }

                    if (link.linkType == 'Dribbble') {
                        result += `<li>
                                    <a class="btn btn-primary btn-fab btn-round" id="social_button1" href="${link.link}" target="_blank"><i style="color: rgb(0,101,202)!important;" class="fa fa-dribbble" aria-hidden="true"></i></a>
                                </li>`;
                    }


                    });

                return result;
            }

            function getDetails(member) {
                var template =
                    `<div class="container">
                <div class="row">
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                        <img class="img-fluid mx-auto display-picture" src="${member.displayPicture} " >
                        <h5 class="text-status description">&nbsp;</p>
                    </div>
                    <div class="col-lg-8 col-md-8 col-sm-8 col-12 details-holder">
                        <h2 class="text-name">${member.name}</h2>
                        <h4 class="description"><b class="designation">${member.description}</b></h4>
                        <h4 class="description">2019-2020</h4>
                        <ul class="social">
                        ${getLinks(member.links)}
                        </ul>
                    </div>
                </div>
                <div class="row">
                    
                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
                        <h5 class="description">${member.bio}</h5>
                    <div>      
                </div>
            </div>
            <p>&nbsp;</p>`
                return template;
            }
            var html = '';

            var settings = {
                "url": "https://dschit.herokuapp.com/team",
                "method": "GET",
                "timeout": 0,
            };
            $.ajax(settings).done(function (members) {

                var urlParams = new URLSearchParams(window.location.search);
                console.log(urlParams);

                var myParam = urlParams.get('id')
                console.log(myParam);
                for (var i = 0; i < members.length; i++) {
                    if (members[i].id == myParam)
                        html += getDetails(members[i]);

                }
                $('#detail').append(html);
            });
        });

    </script>
</body>

</html>